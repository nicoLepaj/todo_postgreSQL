(function(t){function e(e){for(var o,a,i=e[0],s=e[1],u=e[2],l=0,p=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);d&&d(e);while(p.length)p.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(c.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},c=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1661:function(t,e,n){"use strict";n("b1f0")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={class:"container"};function c(t,e,n,c,a,i){var s=Object(o["j"])("InputTodo"),u=Object(o["j"])("ListTodos");return Object(o["g"])(),Object(o["d"])("div",r,[Object(o["e"])(s),Object(o["e"])(u)])}n("a4d3"),n("e01a");var a=Object(o["e"])("h1",{class:"text-center mt-5"},"PostgreSQL Todo List",-1),i=Object(o["e"])("button",{class:"btn btn-success"},"Add",-1);function s(t,e,n,r,c,s){return Object(o["g"])(),Object(o["d"])(o["a"],null,[a,Object(o["e"])("form",{onSubmit:e[2]||(e[2]=Object(o["o"])((function(){return r.onSubmitForm&&r.onSubmitForm.apply(r,arguments)}),["prevent"])),class:"d-flex mt-5"},[Object(o["m"])(Object(o["e"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.description=t})},null,512),[[o["l"],r.description]]),i],32)],64)}var u=n("1da1"),d=(n("96cf"),n("d3b7"),n("4de4"),n("7db0"),n("e25e"),Object(o["h"])(null));function l(){function t(t){d.value=t}function e(t){d.value.push(t)}function n(t){d.value=d.value.filter((function(e){return e.todo_id!==t}))}function o(t){var e=d.value.find((function(e){return e.todo_id===parseInt(t.id)}));e.description=t.description}return{todos:d,setTodos:t,addTodo:e,removeTodo:n,updateTodo:o}}var p={setup:function(){var t=Object(o["h"])("");function e(){return n.apply(this,arguments)}function n(){return n=Object(u["a"])(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n={description:t.value},e.next=4,fetch("http://localhost:5000/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return o=e.sent,e.next=7,o.json();case 7:r=e.sent,a(r),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),n.apply(this,arguments)}var r=l(),c=r.addTodo;function a(t){c(t)}return{description:t,onSubmitForm:e}}};p.render=s;var b=p,f={class:"table table-hover mt-5"},j=Object(o["e"])("thead",null,[Object(o["e"])("tr",null,[Object(o["e"])("th",{scope:"col"},"Description"),Object(o["e"])("th",{scope:"col"},"Edit"),Object(o["e"])("th",{scope:"col"},"Delete")])],-1);function O(t,e,n,r,c,a){var i=Object(o["j"])("EditTodo");return Object(o["g"])(),Object(o["d"])("table",f,[j,Object(o["e"])("tbody",null,[(Object(o["g"])(!0),Object(o["d"])(o["a"],null,Object(o["i"])(r.use_todos,(function(t){return Object(o["g"])(),Object(o["d"])("tr",{key:t.todo_id},[Object(o["e"])("td",null,Object(o["k"])(t.description),1),Object(o["e"])("td",null,[Object(o["e"])(i,{todo:t},null,8,["todo"])]),Object(o["e"])("td",null,[Object(o["e"])("button",{onClick:function(e){return r.deleteTodo(t.todo_id)},class:"btn btn-danger"}," Delete ",8,["onClick"])])])})),128))])])}var v={class:"modal-dialog"},m={class:"modal-content"},h={class:"modal-header"},y=Object(o["e"])("h5",{class:"modal-title"},"Edit todo",-1),g={class:"modal-body"},T={class:"modal-footer"};function x(t,e,n,r,c,a){return Object(o["g"])(),Object(o["d"])(o["a"],null,[Object(o["e"])("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":r.modalTarget}," Edit ",8,["data-bs-target"]),Object(o["e"])("div",{class:"modal fade",id:r.modalId,"data-bs-backdrop":"static",tabindex:"-1","aria-hidden":"true"},[Object(o["e"])("div",v,[Object(o["e"])("div",m,[Object(o["e"])("div",h,[y,Object(o["e"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[1]||(e[1]=function(){return r.resetDescription&&r.resetDescription.apply(r,arguments)})})]),Object(o["e"])("div",g,[Object(o["m"])(Object(o["e"])("input",{type:"text",class:"form-control",onKeyup:e[2]||(e[2]=Object(o["n"])((function(){return r.updateDescription&&r.updateDescription.apply(r,arguments)}),["enter"])),"onUpdate:modelValue":e[3]||(e[3]=function(t){return r.editTodo.description=t})},null,544),[[o["l"],r.editTodo.description]])]),Object(o["e"])("div",T,[Object(o["e"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close-button",onClick:e[4]||(e[4]=function(){return r.resetDescription&&r.resetDescription.apply(r,arguments)})}," Close "),Object(o["e"])("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=function(){return r.updateDescription&&r.updateDescription.apply(r,arguments)})}," Save changes ")])])])],8,["id"])],64)}var w=n("5530"),k=(n("4795"),{props:{todo:{required:!0,type:Object}},setup:function(t){var e=Object(o["h"])(Object(w["a"])({},t.todo)),n=Object(o["b"])((function(){return"id".concat(e.value.todo_id)})),r=Object(o["b"])((function(){return"#id".concat(e.value.todo_id)})),c=l(),a=c.updateTodo;function i(){return s.apply(this,arguments)}function s(){return s=Object(u["a"])(regeneratorRuntime.mark((function t(){var n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={description:e.value.description},t.next=4,fetch("http://localhost:5000/todos/".concat(e.value.todo_id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return o=t.sent,t.next=7,o.json();case 7:r=t.sent,p(),a(r),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),s.apply(this,arguments)}function d(){setTimeout((function(){e.value.description=t.todo.description}),150)}function p(){var t=document.getElementById("close-button");t.click()}return{editTodo:e,modalId:n,modalTarget:r,updateDescription:i,resetDescription:d}}});k.render=x;var _=k,D={components:{EditTodo:_},setup:function(){Object(o["f"])((function(){c()}));var t=l(),e=t.todos,n=t.setTodos,r=t.removeTodo;function c(){return a.apply(this,arguments)}function a(){return a=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:5000/todos");case 3:return e=t.sent,t.next=6,e.json();case 6:o=t.sent,n(o),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),a.apply(this,arguments)}function i(t){return s.apply(this,arguments)}function s(){return s=Object(u["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:5000/todos/".concat(e),{method:"DELETE"});case 3:r(e),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),s.apply(this,arguments)}return{getTodos:c,deleteTodo:i,use_todos:e}}};D.render=O;var S=D,P={name:"App",components:{InputTodo:b,ListTodos:S}};n("1661");P.render=c;var C=P,E=(n("ab8b"),n("7b17"),Object(o["c"])(C));E.mount("#app")},b1f0:function(t,e,n){}});
//# sourceMappingURL=app.ea59ecba.js.map